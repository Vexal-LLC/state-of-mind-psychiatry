---
import { Image } from "astro:assets";
import Layout from "~/layouts/Layout.astro";
import FullWidthContainer from "~/components/FullWidthContainer.astro";
import { Icon } from "astro-icon/components";

import officeImage1 from "~/assets/office1.jpeg";
import officeImage2 from "~/assets/office2.jpeg";
import officeImage3 from "~/assets/office3.jpeg";
import officeImage4 from "~/assets/office4.jpeg";
import officeImage5 from "~/assets/office5.jpeg";
import buildingImage from "~/assets/building.jpeg";

const officeInfo = {
  address: "12183 Highway 182 W, Suite 103",
  city: "Starkville",
  state: "MS",
  zip: "39759",
  phone: "(662) 268-7100",
  email: "info@stateofmindpsychiatry.com",
  hours: ["Monday - Friday: 8:00 AM - 5:00 PM", "Saturday - Sunday: Closed"],
};
---

<Layout title="Contact Us">
  <main>
    <FullWidthContainer class="bg-white my-16">
      <div class="space-y-4">
        <h1
          class="my-12 font-serif text-5xl md:text-6xl lg:text-7xl font-semibold tracking-tight text-gray-900"
        >
          Let's start your journey to better mental health
        </h1>
      </div>

      <div
        class="grid grid-cols-1 md:grid-cols-2 gap-y-12 gap-x-16 lg:gap-x-24 items-center my-16 lg:my-24"
      >
        <div class="space-y-8 order-1 md:order-1">
          <h2 class="text-3xl lg:text-4xl font-semibold text-gray-900">
            Contact us today
          </h2>
          <p class="text-xl text-gray-700">
            Whether you have questions about our services or would like to
            schedule an appointment, we're here to help you take the first step
            towards better mental health.
          </p>

          <div class="space-y-6">
            <div class="flex items-center gap-4">
              <Icon
                name="mdi:map-marker"
                class="w-6 h-6 text-primary flex-shrink-0"
              />
              <a
                href="#"
                id="office-map-link"
                target="_blank"
                rel="noopener noreferrer"
                class="hover:text-primary transition-colors duration-200"
              >
                <p class="text-lg text-gray-900">{officeInfo.address}</p>
                <p class="text-lg text-gray-900">
                  {officeInfo.city}, {officeInfo.state}
                  {officeInfo.zip}
                </p>
              </a>
            </div>

            <div class="flex items-center gap-4">
              <Icon
                name="mdi:phone"
                class="w-6 h-6 text-primary flex-shrink-0"
              />
              <div class="space-y-1">
                <a
                  href={`tel:${officeInfo.phone.replace(/\D/g, "")}`}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-lg text-gray-900 hover:text-primary transition-colors duration-200"
                >
                  {officeInfo.phone}
                </a>
                <a
                  href={`mailto:${officeInfo.email}`}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="text-lg text-gray-900 block hover:text-primary transition-colors duration-200"
                >
                  {officeInfo.email}
                </a>
              </div>
            </div>

            <div class="flex items-center gap-4">
              <Icon
                name="mdi:clock"
                class="w-6 h-6 text-primary flex-shrink-0"
              />
              <div>
                {
                  officeInfo.hours.map((hours) => (
                    <p class="text-lg text-gray-900">{hours}</p>
                  ))
                }
              </div>
            </div>
          </div>
        </div>

        <div class="relative order-2 md:order-2">
          <div class="rounded-2xl overflow-hidden aspect-square">
            <Image
              loading="lazy"
              decoding="async"
              src={officeImage1}
              alt="Our welcoming office space"
              class="w-full h-full object-cover"
            />
          </div>
        </div>
      </div>
    </FullWidthContainer>

    <FullWidthContainer class="bg-white">
      <div
        class="grid grid-cols-1 md:grid-cols-2 gap-y-12 gap-x-16 lg:gap-x-24 items-center my-16 lg:my-24"
      >
        <div class="relative order-2 md:order-1">
          <div class="rounded-2xl overflow-hidden aspect-[4/3] shadow-xl">
            <Image
              loading="lazy"
              decoding="async"
              src={buildingImage}
              alt="Exterior view of our office building"
              class="w-full h-full object-cover"
            />
          </div>
        </div>

        <div class="space-y-6 order-1 md:order-2">
          <h2 class="text-3xl lg:text-4xl font-semibold text-gray-900">
            How to find us
          </h2>
          <p class="text-xl text-gray-700">
            Our office is conveniently located on Highway 182 West in
            Starkville, left to the Cannon Lincoln dealership and approximately
            5 minutes east of Thad Cochran Research, Technology And Economic
            Development Park. You'll find us in the professional park building
            on the north side of the highway in suite #103.
          </p>
          <div class="space-y-4">
            <h3 class="text-2xl font-semibold text-gray-900">
              Landmarks nearby:
            </h3>
            <ul class="text-lg text-gray-700 space-y-2">
              <li class="flex items-center gap-2">
                <Icon name="mdi:chevron-right" class="w-5 h-5 text-primary" />
                Cannon Lincoln of Starkville Dealership
              </li>
              <li class="flex items-center gap-2">
                <Icon name="mdi:chevron-right" class="w-5 h-5 text-primary" />
                Sprint Mart
              </li>
              <li class="flex items-center gap-2">
                <Icon name="mdi:chevron-right" class="w-5 h-5 text-primary" />
                5 minutes from MSU Research Park
              </li>
            </ul>
          </div>
        </div>
      </div>
    </FullWidthContainer>

    <FullWidthContainer class="bg-white py-16 md:py-24">
      <div class="mx-auto max-w-7xl">
        <div
          class="grid grid-cols-1 lg:grid-cols-2 gap-y-12 gap-x-16 lg:gap-x-24"
        >
          <div class="max-w-lg order-1 lg:order-1">
            <h2
              class="text-4xl md:text-5xl lg:text-6xl font-serif font-semibold tracking-tight text-gray-900"
            >
              Experience Our <span
                class="highlight-accent-orange highlight-h-20 highlight-behind highlight-opacity-90 highlight-rounded-md relative z-[1] inline-block text-secondary-dark"
                >Welcoming</span
              > Space
            </h2>
            <p class="mt-6 text-xl text-gray-700">
              Step into a comfortable and calming environment designed to help
              you feel at ease. Our thoughtfully designed spaces provide a
              peaceful setting for your mental health journey.
            </p>
            <p class="mt-6 text-xl text-gray-700">
              From our welcoming reception area to our private consultation
              rooms, every detail has been carefully considered to create an
              environment where you can feel comfortable and supported.
            </p>
          </div>

          <div class="pt-20 lg:row-span-2 order-2 lg:order-2">
            <div
              class="grid grid-cols-2 gap-4 sm:grid-cols-4 lg:grid-cols-2 lg:gap-4 xl:gap-8"
            >
              <div class="aspect-square overflow-hidden rounded-xl shadow-xl">
                <Image
                  loading="lazy"
                  decoding="async"
                  src={officeImage4}
                  alt="Reception area"
                  class="block w-full h-full object-cover"
                />
              </div>
              <div
                class="-mt-8 aspect-square overflow-hidden rounded-xl shadow-xl lg:-mt-32"
              >
                <Image
                  loading="lazy"
                  decoding="async"
                  src={officeImage5}
                  alt="Waiting room"
                  class="block w-full h-full object-cover"
                />
              </div>
              <div class="aspect-square overflow-hidden rounded-xl shadow-xl">
                <Image
                  src={officeImage3}
                  alt="Therapy office"
                  class="block w-full h-full object-cover"
                />
              </div>
              <div
                class="-mt-8 aspect-square overflow-hidden rounded-xl shadow-xl lg:-mt-32"
              >
                <Image
                  loading="lazy"
                  decoding="async"
                  src={officeImage2}
                  alt="Reception area"
                  class="block w-full h-full object-cover"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </FullWidthContainer>
  </main>
</Layout>

<script>
  // Smart maps link handler
  const officeMapLink = document.getElementById(
    "office-map-link"
  ) as HTMLAnchorElement;
  const address = "12183 MS-182 W, Starkville, MS 39759";
  const encodedAddress = encodeURIComponent(address);

  // Detect iOS
  const isIOS =
    /iPad|iPhone|iPod|Mac/.test(navigator.userAgent) &&
    navigator.maxTouchPoints > 1;

  if (officeMapLink) {
    if (isIOS) {
      officeMapLink.href = `maps://?address=${encodedAddress}`;
    } else {
      officeMapLink.href = `https://www.google.com/maps/search/?api=1&query=${encodedAddress}&loading=async`;
    }
  }
</script>
